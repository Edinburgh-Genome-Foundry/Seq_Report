#sidebar: p {{sidebar_text}}

.logos
  img(src="file:///{{ egf_logo_url }}" style="height:40px; width: auto")

hr
h1 Sequence report
hr

p.
  This document reports basic sequence statistics.

if seqcollection.fasta_name
  p.
    FASTA: <b>{{ seqcollection.fasta_name }}</b>

if seqcollection.projectname
  p.
    Projectname: <b>{{ seqcollection.projectname }}</b>

p.
  Number of sequences: <b>{{ seqcollection.n_seq }}</b>
p.
  Number of basepairs: <b>{{ seqcollection.n_bp }}</b> bp
p.
  Estimated cost: <b>{{ seqcollection.currency_symbol }}{{ seqcollection.cost }}</b>

if seqcollection.too_short_text
  p.
    #[span.red ☒] Sequences shorter than <b>{{ seqcollection.min_length }}</b> bp: {{ seqcollection.too_short_text }}
else
  p.
    #[span.green ☑] None of the sequences are shorter than <b>{{ seqcollection.min_length }}</b> bp.

if seqcollection.too_long_text
  p.
    #[span.red ☒] Sequences longer than <b>{{ seqcollection.max_length }}</b> bp: {{ seqcollection.too_long_text }}
else
  p.
    #[span.green ☑] None of the sequences are longer than <b>{{ seqcollection.max_length }}</b> bp.

if seqcollection.long_names_text
  p.
    #[span.red ☒] Sequence IDs longer than <b>{{ seqcollection.name_length }}</b> characters: {{ seqcollection.long_names_text }}
else
  p.
    #[span.green ☑] None of the IDs are longer than <b>{{ seqcollection.name_length }}</b> characters.

if seqcollection.repeat_names_text
  p.
    #[span.red ☒] Sequence IDs appearing more than once: {{ seqcollection.repeat_names_text }}
else
  p.
    #[span.green ☑] None of the IDs are duplicated.

if seqcollection.repeat_seq_text
  p.
    #[span.red ☒] Identical sequence-pairs: {{ seqcollection.repeat_seq_text }}
else
  p.
    #[span.green ☑] None of the sequences are identical.

if seqcollection.reverse_complement_seq_text
  p.
    #[span.red ☒] Sequence-pairs with identical reverse complements: {{ seqcollection.reverse_complement_seq_text }}
else
  p.
    #[span.green ☑] None of the sequences are reverse complements.

if seqcollection.assembly_plan

  if seqcollection.savings_dict_text
    p.
      Sequences used more than once in the provided assembly plan: {{ seqcollection.savings_dict_text }}.
    p.
      Total savings: <b>{{ seqcollection.total_savings }}</b> bp or <b>{{ seqcollection.currency_symbol }}{{ seqcollection.total_cost_savings }}</b>.
  else
    p.
      None of the sequences are used more than once in the provided assembly plan.

  if seqcollection.not_in_plan_text
    p.
      The following do not appear in the assembly plan: {{ seqcollection.not_in_plan_text }}.


if seqcollection.comments
  p.
    Comments: <i>{{ seqcollection.comments }}</i>

div(style="margin-top:1cm; margin-bottom:1cm;")

<div style = "display:block; clear:both; page-break-after:always;"></div>

p
  strong Seq Report
p.
  The sequence re-use section shows the basepair-<i>savings</i>, and also ignores
  per-sequence cost. For example, savings for seq1 (×3) with length L is calculated as
  2 × L × {{ seqcollection.currency_symbol }}/base.
  

p.
  Parameters:
  <ul>
    <li>Cost per base = <b>{{ seqcollection.currency_symbol }}{{ seqcollection.cost_per_base }}</b> </li>
    <li>Cost per sequence = <b>{{ seqcollection.currency_symbol }}{{ seqcollection.cost_per_seq }}</b> </li>
  </ul>

p.
  The report was generated by <a href="https://github.com/Edinburgh-Genome-Foundry/Seq_Report/">Seq Report</a>,
  a software published by the Edinburgh Genome Foundry (EGF).
  Seq Report is part of the <a href="https://edinburgh-genome-foundry.github.io/">EGF Codons</a>
  engineering biology software suite for DNA design, manufacturing and validation.


style.
  .green {
    color: #86bf86
  }
  .grey {
    color: #a9a9a9
  }
  .red {
    color: #fd5a31
  }
  .yellow {
    color: #f7b500
  }
